<!DOCTYPE html>
<html lang="de">
    <head>
        <title>Physik-Pool</title>
        <meta charset="utf-8" />
        <meta name="viewport" content="initial-scale=2, maximum-scale=1">
        <link rel="icon" type="image/svg+xml" href="images/favicon.svg" sizes="any">
        <link rel="stylesheet" type="text/css" href="style.css" />
        <script src="script.js"></script>
    </head>
    <body>
        <header>
            <h1><span class="ssh">> SSH</span> Zugang zum Physik-Poolraum</h1>
        </header>
        <main>
	        <section>
                <h1>Sprechzeiten Poolraum-HiWi:</h1>
			<p>Die aktuellen Sprechzeiten können auf der Webseite <a href="https://comp.physik.kit.edu">comp.physik.kit.edu</a> eingesehen werden</p>
		        <p>E-Mail Kontakt: <a href="mailto:ustlg@student.kit.edu">ustlg@student.kit.edu</a></p>
                <p>Falls du dich mit <span class="ssh">SSH</span> schon auskennst und nur auf der Suche nach der Adresse vom Physik-Poolraum bist, möchte ich dich nicht weiter auf dieser Webseite festhalten. Hier, bitteschön:</p>
                <p class="codeblock"><code>fphctssh.physik.kit.edu</code></p>
            </section>
            <nav>
                <h1>Inhaltsverzeichnis</h1>
                <ul>
                    <li><a href="#about-ssh">Was ist <span class="ssh">SSH</span>?</a></li>
                    <li><a href="#access-windows-10">Windows 10</a></li>
                    <li><a href="#access-windows-7-8">Windows 8 / Windows 7</a></li>
                    <li><a href="#access-mac">Zugang unter Macintosh</a></li>
                    <li><a href="#access-linux">Zugang unter Linux</a></li>
                    <li><a href="#issues">Problembehandlung</a></li>
                    <li><a href="#print">Drucken via Fernzugriff</a></li>
                    <li><a href="#key-introduction">Was ist ein <span class="SSH">SSH</span> Schlüssel?</a></li>
                    <li><a href="#generate-key"><span class="ssh">SSH</span> Schlüssel erzeugen</a></li>
                    <li><a href="#key-login">Anmeldung ohne Passwort-Eingabe</a></li>
                    <li><a href="#config">Die <span class="ssh">SSH</span> Konfigurations-Datei</a></li>
                    <li><a href="#cluster">Cluster-Nutzung der Poolraum-Rechner</a></li>
                </ul>
            </nav>
            <article id="about-ssh">
                <h1>Was ist <span class="ssh">SSH</span>?</h1>
                <p>Bei <span class="ssh">SSH</span> handelt es sich um ein Netzwerkprotokoll mit dessen Hilfe man eine verschlüsselte Verbindung zu einem entfernten Gerät herstellen kann. Gleichzeitig ist <span class="ssh">SSH</span> auch der Name des Programms mit dem die <span class="ssh">SSH</span> Verbindung hergestellt wird. Mithilfe von <span class="ssh">SSH</span> kann nun eine Sitzung in der Linux-Shell auf einem der Poolraum-Rechner bedient werden ohne dafür im Poolraum sein zu müssen. Dazu wird eine <span class="ssh">SSH</span> Verbindung zum Physik-Poolraum aufgebaut. Wie das funktioniert wird in den untenstenenden Abschnitten &#x2b07; für jedes Betriebssystem erklärt.</p>
                <p>Weiterhin kann man <span class="ssh">SSH</span> auch verwenden um Dateien zwischen dem Poolraum und einem eigenen PC auszutauschen. Dazu wird das bei <span class="ssh">SSH</span> häufig mitgelieferte Programm <span class="ssh">SCP</span> verwenden. Auch hierfür wurden Anleitungen für unterschiedliche Betriebssysteme verfasst.</p>
            </article>
            <article id="access-windows-10">
                <h1>Zugang unter Windows 10</h1>
                <section>
                    <p>Bei Windows 10 wird ein <span class="ssh">SSH</span> Client mitgeliefert. Deshalb muss nichts weiter getan werden als die <b>Eingabeaufforderung</b> oder <b>PowerShell</b>  oder das neue <a href="https://apps.microsoft.com/store/detail/windows-terminal/9N0DX20HK701?hl=de-de&gl=de" target="_blank">Windows Terminal</a> zu öffnen (das Windows Terminal wird im Vergleich zu den zwei Alternativen empfohlen, da es Unicode-Unterstützung mit sich bringt und auch Emojis anzeigen kann, wozu die anderen zwei Programme nicht fähig sind). Alle Programme lassen sich über die Suchfunktion im Startmenü finden. Dort angekommen, muss zum Herstellen einer <span class="ssh">SSH</span> Verbindung folgender Befehl eingegeben werden, mit dem Zusatz, dass anstelle von <i>uxxxx</i> der Benutzername des zugehörigen Poolraum-Accounts verwendet wird:</p>
                    <p class="codeblock"><code>ssh uxxxx@fphctssh.physik.kit.edu</code></p>
                    <p>Nach Eingabe des Oben &#x2b06 stehenden Befehls und des Passworts (Passwort wird nach dem Herstellen einer Verbindung abgefragt) ist man im Terminal-Fenster via <span class="ssh">SSH</span> mit einem Poolraum-Rechner verbunden. Bei der allerersten <span class="ssh">SSH</span> Sitzung mit einem Server muss die Akzeptanz des Schlüssels des Servers durch eine Eingabe von <code>yes</code> bestätigt werden. Beendet wird die <span class="ssh">SSH</span> Sitzung mit einer Eingabe des Wortes <code>exit</code>.</p>
                </section>

                <section>
                    <h2>Dateiübertragung mittels <span class="ssh">SCP</span></h2>
                    <p>Mit dem Programm <span class="ssh">SCP</span> können Dateien zwischen dem Poolraum und dem eigenen Rechner kopiert werden. Im Folgenden ist ein Beispiel zu sehen bei dem Benutzer <i>uxxxx</i> die Datei <b>Testda.tei</b> zu seinem Poolraum-Account kopiert, sodass diese dort in seinem Download-Ordner gespeichert wird:</p>
                    <p class="codeblock"><code>scp Testda.tei uxxxx@fphctssh.physik.kit.edu:Downloads</code></p>
                    <p>Um die Datei <b>Testda.tei</b> aus dem Download-Ordner vom Physik-Pool abzuholen, werden die Argumente beim Aufruf von <span class="ssh">SCP</span> einfach vertauscht:</p>
                    <p class="codeblock"><code>scp uxxxx@fphctssh.physik.kit.edu:Downloads/Testda.tei .</code></p>
                    <p>Dabei sei anzumerken, dass es sich bei <code>.</code> um das aktuelle Verzeichnis handelt in dem sich das Terminal zum Zeitpunkt des Aufrufs von <span class="ssh">SCP</span> befindet. Das Verzeichnis wird in der PowerShell durch den Aufruf von <code>pwd</code> und in der Eingabeaufforderung durch den Aufruf von <code>cd</code> ausgegeben.</p>
                    <p>Um mit <span class="ssh">SCP</span> nicht nur einzelne Dateien sondern auch ganze Verzeichnisse zu übertragen, muss scp mit der Option <code>-r</code> aufgerufen werden. Die oben &#x2b06 genannten Beispiele sehen dann identisch aus, bis auf den Unterschied, dass <code>scp</code> durch <code>scp -r</code> ersetzt wird und anstatt Dateien Verzeichnisse angegeben werden.</p>
                </section>

                <section>
                    <h2>Dateiübertragung mittels WinSCP</h2>
                    <p>Weiterhin lässt sich die Dateiübertragung auch grafisch über das Programm <a href="https://winscp.net/eng/index.php">WinSCP</a> erledigen. Dieses lässt sich über den folgenden Link herunterladen.</p>
                    <ul>
                        <li><a href="https://winscp.net/eng/download.php">WinSCP</a></li>
                    </ul>
                    <p><img alt="winscp-anmeldung" src="images/winscp-anmeldung.png"></p>
                    <p>Nach der installation und dem Starten ist das Programmfenster von <b>WinSCP</b> zu sehen. In dem oben &#x2b06 sichtbaren Bild wurden schon die notwendigen Login-Daten eingetragen (gelb hinterlegt). Diese lauten:</p>
                    <ul>
                        <li>Server: <code>fphctssh.physik.kit.edu</code></li>
                        <li>Benutzername: <code>uxxxx</code></li>
                        <li>Passwort: <code>**********</code></li>
                        <li>Port: <code>22</code></li>
                    </ul>
                    <p>In dem Programm sind nun zwei Dateimanager zu sehen: die linke Spalte zeigt die Dateien auf dem eigenen Computer an und die Rechte Spalte die Dateien die auf dem Poolraum-Account hinterlegt sind. Dateien oder Ordner können darin ausgewählt und zwischen beide Rechnern hin und her kopiert werden.</p>
                </section>
            </article>
            <article id="access-windows-7-8">
                <h1>Zugang unter Windows 8 / 7</h1>
                <section>
                    <p>Bei Windows 8 oder Windows 7 wird leider kein <span class="ssh">SSH</span> Client mitgeliefert. Dieser muss nun nachinstalliert werden. Hierfür eignet sich das Programm <a href="https://www.chiark.greenend.org.uk/~sgtatham/putty/latest.html">PuTTY</a> (Das ist natürlich nur eine Empfehlung des Verfassers dieser Anleitung. Man kann auch jeden beliebigen anderen <span class="ssh">SSH</span> Client verwenden). Das Programm <a href="https://www.chiark.greenend.org.uk/~sgtatham/putty/latest.html">PuTTY</a> kann man unter den folgenden Links für 32-Bit und 64-Bit Rechner herunterladen. Wer nicht weiß, ob er einen 32- oder 64-Bit Rechner hat, probiert zuerst einfach mal die 64-Bit version aus und danach die 32-Bit Version, falls es nicht funktioniert hat.</p>
                    <ul>
                        <li><a href="https://the.earth.li/~sgtatham/putty/latest/w64/putty-64bit-0.73-installer.msi">PuTTY 64-Bit Version 0.73</a></li>
                        <li><a href="https://the.earth.li/~sgtatham/putty/latest/w32/putty-0.73-installer.msi">PuTTY 32-Bit Version 0.73</a></li>
                    </ul>
                    <p>Nach der Installation öffnet sich ein Fenster das wiefolgt aussieht:</p>
                    <p><img alt="putty-startfenster" src="images/putty-startfenster.png"></p>
                    <p>Dies ist das Startfenster von PuTTY. In dem Bild wurde unter <b>Host Name (or IP address)</b> schon die Adresse des Physik-Poolraums eingetragen (gelb hinterlegt). Diese lautet:</p>
                    <p class="codeblock"><code>fphctssh.physik.kit.edu</code></p>
                    <p>Durch einen klick auf <b>Open</b> wird eine <span class="ssh">SSH</span> Sitzung gestartet. Beim ersten Starten einer solchen Sitzung kommt es vor, dass folgende Warnmeldung erscheint:</p>
                    <p><img alt="putty-warnmeldung" src="images/putty-warnmeldung.png"></p>
                    <p>Diese Warmeldung besagt, dass bisher noch kein Schlüsselaustausch mit dem Server stattgefunden hat, der garantiert, dass der Schlüssel auch wirklich vom Server ist. Diese Warnmeldung warnt vor einer möglichen <a href="https://www.ssh.com/attack/man-in-the-middle">Man in the middle Attacke</a> warnen. Da ein solches Szenario aber unwahrscheinlich ist und außerdem die <span class="ssh">SSH</span> Verbindung in Zukunft häufiger verwendet wird, empfiehlt es sich, auf <b>Ja</b> zu klicken. Dies führt dazu, dass der Schlüssel des Servers auf dem PC hinterlegt wird um vor zukünftigen <a href="https://www.ssh.com/attack/man-in-the-middle">Man in the middle Attacken</a> vorzubeugen. PuTTY öffnen nun ein Terminal in dem die <span class="ssh">SSH</span> Sitzung läuft. Beendet wird die <span class="ssh">SSH</span> Sitzung mit einer Eingabe des Wortes <code>exit</code>.</p>
                </section>

                <section>
                    <h2>Dateiübertragung mittels WinSCP</h2>
                    <p>Mit dem Programm <b>WinSCP</b> wird eine grafische Möglichkeit angeboten um Dateien zwischen dem eigenen PC und dem Physik-Pool auszutauschen. Die Installation und Verwendung von <b>WinSCP</b> wird im Abschnitt zu <b>Windows 10</b> erklärt.</p>
                </section>
            </article>
            </section>
            <article id="access-mac">
                <h1>Zugang unter Macintosh</h1>
                <section>
                    <p>Bei Mac-OS wird ein <span class="ssh">SSH</span> Client mitgeliefert. Deshalb muss nichts weiter getan werden als das Programm <b>Terminal</b> zu öffnen. Dort angekommen, muss zum Herstellen einer <span class="ssh">SSH</span> Verbindung folgender Befehl eingegeben werden, mit dem Zusatz, dass anstelle von <i>uxxxx</i> der Benutzername des zugehörigen Poolraum-Accounts verwendet wird:</p>
                    <p class="codeblock"><code>ssh uxxxx@fphctssh.physik.kit.edu</code></p>
                    <p>Nach Eingabe des Oben &#x2b06 stehenden Befehls und des Passworts (Passwort wird nach dem Herstellen einer Verbindung abgefragt) ist man im Terminal-Fenster via <span class="ssh">SSH</span> mit einem Poolraum-Rechner verbunden. Bei der allerersten <span class="ssh">SSH</span> Sitzung mit einem Server muss die Akzeptanz des Schlüssels des Servers durch eine Eingabe von <code>yes</code> bestätigt werden. Beendet wird die <span class="ssh">SSH</span> Sitzung mit einer Eingabe des Wortes <code>exit</code>.</p>
                </section>

                <section>
                    <h2>Dateiübertragung mittels <span class="ssh">SCP</span></h2>
                    <p>Mit dem Programm <span class="ssh">SCP</span> können Dateien zwischen dem Poolraum und dem eigenen Rechner kopiert werden. Im Folgenden ist ein Beispiel zu sehen bei dem Benutzer <i>uxxxx</i> die Datei <b>Testda.tei</b> zu seinem Poolraum-Account kopiert, sodass diese dort in seinem Download-Ordner gespeichert wird:</p>
                    <p class="codeblock"><code>scp Testda.tei uxxxx@fphctssh.physik.kit.edu:Downloads</code></p>
                    <p>Um die Datei <b>Testda.tei</b> aus dem Download-Ordner vom Physik-Pool abzuholen, werden die Argumente beim Aufruf von <span class="ssh">SCP</span> einfach vertauscht:</p>
                    <p class="codeblock"><code>scp uxxxx@fphctssh.physik.kit.edu:Downloads/Testda.tei .</code></p>
                    <p>Dabei sei anzumerken, dass es sich bei <code>.</code> um das aktuelle Verzeichnis handelt in dem sich das Terminal zum Zeitpunkt des Aufrufs von <span class="ssh">SCP</span> befindet. Das Verzeichnis wird in der PowerShell durch den Aufruf von <code>pwd</code> und in der Eingabeaufforderung durch den Aufruf von <code>cd</code> ausgegeben.</p>
                    <p>Um mit <span class="ssh">SCP</span> nicht nur einzelne Dateien sondern auch ganze Verzeichnisse zu übertragen, muss scp mit der Option <code>-r</code> aufgerufen werden. Die oben &#x2b06 genannten Beispiele sehen dann identisch aus, bis auf den Unterschied, dass <code>scp</code> durch <code>scp -r</code> ersetzt wird und anstatt Dateien Verzeichnisse angegeben werden.</p>
                </section>

                <section>
                    <h2>Einbindung über den Finder</h2>
                    <p>Der Finder in Mac OS X unterstützt die Einbindung des Physik-Poolraums als Datenträger. Dazu stellt er die Option <b>Mit Server verbinden</b> bereit. Hier kann nun die Adresse des Servers eingetragen werden, mit dem Zusatz, dass anstelle von <i>uxxxx</i> der Benutzername des zugehörigen Poolraum-Accounts verwendet wird. Die Adresse sieht folgendermaßen aus:</p>
                    <p class="codeblock"><code>sftp://<b>uxxxx</b>@fphctssh.physik.kit.edu</code></p>
                    <p>Die nachfolgenden Bilder zeigen den Menüpunkt, das Eingabefenster und den Dialog zur Passwort-Abfrage. Die einzugebenden Login-Daten wurden im zweiten Bild gelb hinterlegt.</p>
                    <p><img alt="mac-finder-menü" src="images/mac-finder-menue.png"></p>
                    <p><img alt="mac-finder-adresse" src="images/mac-finder-adresse.png"></p>
                    <p><img alt="mac-finder-login" src="images/mac-finder-login.png"></p>
                </section>
                </section>
            </article>
            <article id="access-linux">
                <h1>Zugang unter Linux</h1>
                <section>
                    <p>Bei den meisten Linux-Distributionen ist der <span class="ssh">SSH</span> Client schon installiert. Aus diesem Grund kann man auch direkt mit der Verwendung von <span class="ssh">SSH</span> starten. Dazu muss zuerst ein Terminal geöffnet werden. Wer das Terminal noch nicht kennt: Das Terminal ist ein Eingabefenster, häufig mit dunklem Hintergrund und einem rechteckigen weißen cursor der zu Beginn oben links blinkt. Solche Terminals sind häufig in Hacker-Filmen zu sehen. Das Öffnen eines Terminals läuft bei jeder Linux-Distribution ein wenig anders ab. Beinahe immer gibt es im Anwendungsmenü (Windows-Nutzer nennen es <i>"Startmenü"</i>) ein Programm namens <b>Terminal</b> oder mit den Buchstaben <i>"term"</i> im Namen. Ab und zu funktioniert auch die Tastenkombination <code>STRG&nbsp;+&nbsp;ALT&nbsp;+&nbsp;T</code>.</p>
                    <p>In diesem Terminal wird nun die <span class="ssh">SSH</span> Verbindung zu einem der Computer im Poolraum aufgebaut. Dazu muss der nachfolgende Befehl in das Terminal eingegeben werden, mit dem Zusatz, dass anstelle von <i>uxxxx</i> der Benutzername des zugehörigen Poolraum-Accounts verwendet wird:</p>
                    <p class="codeblock"><code>ssh uxxxx@fphctssh.physik.kit.edu</code></p>
                    <p>Nach Eingabe des Oben &#x2b06 stehenden Befehls und des Passworts (Passwort wird nach dem Herstellen einer Verbindung abgefragt) ist man im Terminal-Fenster via <span class="ssh">SSH</span> mit einem Poolraum-Rechner verbunden. Bei der allerersten <span class="ssh">SSH</span> Sitzung mit einem Server muss die Akzeptanz des Schlüssels des Servers durch eine Eingabe von <code>yes</code> bestätigt werden.  Beendet wird die <span class="ssh">SSH</span> Sitzung mit einer Eingabe des Wortes <code>exit</code>.</p>
                </section>

                <section>
                    <h2>Dateiübertragung mittels <span class="ssh">SCP</span></h2>
                    <p>Mit <span class="ssh">SSH</span> können auch Dateien zwischen dem eigenen PC und dem Physik-Poolraum übertragen werden. Dazu kann das mitgelieferte Programm <span class="ssh">SCP</span> verwendet werden. <span class="ssh">SCP</span> wird genau so wie <span class="ssh">SSH</span> über ein Terminal bedient. Dabei kann <span class="ssh">SCP</span> in 2 Modi betrieben werden: Eine Datei wird vom Poolraum abgeholt und auf dem PC gespeichert oder eine Datei, die auf dem PC gespeichert ist, wird zum Poolraum kopiert.</p>
                    <p>Zu beiden Verfahren sei anzumerken, dass man den Poolraum-Rechner folgendermaßen anspricht, um mitzuteilen welche Datei abgeholt oder wo diese Datei gespeichert werden soll:</p>
                    <p class="codeblock"><code>uxxxx@fphctssh.physik.kit.edu:&lt;Speicherort&gt;</code></p>
                    <p>Im Folgenden ist ein Beispiel zu sehen bei dem Benutzer <i>uxxxx</i> die Datei <b>Testda.tei</b> zu seinem Poolraum-Account kopiert, sodass diese dort in seinem Download-Ordner gespeichert wird:</p>
                    <p class="codeblock"><code>scp Testda.tei uxxxx@fphctssh.physik.kit.edu:Downloads</code></p>
                    <p>Um die Datei <b>Testda.tei</b> aus dem Download-Ordner vom Physik-Pool abzuholen, werden die Argumente beim Aufruf von <span class="ssh">SCP</span> einfach vertauscht:</p>
                    <p class="codeblock"><code>scp uxxxx@fphctssh.physik.kit.edu:Downloads/Testda.tei .</code></p>
                    <p>Dabei sei anzumerken, dass es sich bei <code>.</code> um das aktuelle Verzeichnis handelt in dem sich das Terminal zum Zeitpunkt des Aufrufs von <span class="ssh">SCP</span> befindet. Das Verzeichnis wird im Terminal durch den Aufruf von <code>pwd</code> ausgegeben.</p>
                    <p>Um mit <span class="ssh">SCP</span> nicht nur einzelne Dateien sondern auch ganze Verzeichnisse zu übertragen, muss scp mit der Option <code>-r</code> aufgerufen werden. Die oben &#x2b06 genannten Beispiele sehen dann identisch aus, bis auf den Unterschied, dass <code>scp</code> durch <code>scp -r</code> ersetzt wird und anstatt Dateien Verzeichnisse angegeben werden.</p>
                </section>

                <section>
                    <h2>Einbindung über den Dateimanager</h2>
                    <p>Unter Linux gibt es Dateimanager die die Einbindung des Physik-Poolraums in den Dateimanager unterstützen. Dazu bietet der Dateimanager häufig einen Option namens <b>Mit Server verbinden</b> oder ähnlich an. Hier kann nun die Adresse des Servers eingetragen werden, mit dem Zusatz, dass anstelle von <i>uxxxx</i> der Benutzername des zugehörigen Poolraum-Accounts verwendet wird. Die Adresse sieht folgendermaßen aus:</p>
                    <p class="codeblock"><code>sftp://<b>uxxxx</b>@fphctssh.physik.kit.edu/</code></p>
                    <p>Die nachfolgenden Bilder zeigen das Eingabefenster und den Dialog zur Passwort-Abfrage unter dem Dateimanager <i>Nautilus</i>, der bei der Linux-Distribution <i>Ubuntu</i> mitgeliefert wird. Die einzugebenden Login-Daten wurden im ersten Bild gelb hinterlegt.</p>
                    <p><img alt="lin-dateimanager-adresse" src="images/lin-dateimanager-adresse.png"></p>
                    <p><img alt="lin-dateimanager-passwort" src="images/lin-dateimanager-passwort.png"></p>
                </section>

                <section>
                    <h2>Dateiübertragung mittels FileZilla</h2>
                    <p>Weiterhin lässt sich die Dateiübertragung auch grafisch über das Programm <a href="https://wiki.ubuntuusers.de/FileZilla/">FileZilla</a> erledigen. Dieses lässt sich häufig über den mitgelieferten Paketmanager installieren. Die Installation lässt sich auch über die Kommandozeile erledigen und läuft wiefolgt ab:</p>
                    <ul>
                        <li>Ubuntu / Debian / Linux Mint: <a href="apt://filezilla" target="_blank"><code>sudo apt install filezilla</code></a></li>
                        <li>Arch Linux / Manjaro: <code>sudo pacman -S filezilla</code></li>
                        <li>Fedora: <code>sudo dnf install filezilla</code></li>
                        <li>OpenSuse: <code>sudo zypper in filezilla</code></li>
                        <li>Diverse: <code>sudo snap install filezilla</code></li>
                    </ul>
                    <p>Nachdem <b>FileZilla</b> installiert und gestartet wurde sollte folgendes Programmfenster zu sehen sein (eventuell auch im Dark-Mode, je nach Linux Distribution):</p>
                    <p><img alt="filezilla-window" src="images/filezilla-startfenster-lin.png"></p>
                    <p>Dies ist das Programmfenster von <b>FileZilla</b>. In dem Bild wurden schon die notwendigen Login-Daten eingetragen (gelb hinterlegt). Diese lauten:</p>
                    <ul>
                        <li>Server: <code>fphctssh.physik.kit.edu</code></li>
                        <li>Benutzername: <code>uxxxx</code></li>
                        <li>Passwort: <code>**********</code></li>
                        <li>Port: <code>22</code></li>
                    </ul>
                    <p>Nach Eingeben der obenstehenden &#x2b06 Daten beginnt <b>FileZilla</b> damit, eine <span class="ssh">SFTP</span> Verbindung zum Physik-Poolraum herzustellen. Bei der ersten Anmeldung kommt es vor, dass folgende Warnmeldung angezeigt wird:</p>
                    <p><img alt="filezilla-warnung" src="images/filezilla-warnung-lin.png"></p>
                    <p>Diese Warnmeldung besagt, dass bisher noch kein Schlüssel von diesem Server gespeichert wurde. Da die Verbindung zum Datenaustausch vorraussichtlich häufiger verwendet wird, empfiehlt es sich, diesen Schlüssel zu speichern.</p>
                    <p>In dem Programm <b>FileZilla</b> sind nun zwei Dateimanager zu sehen: die linke Spalte zeigt die Dateien auf dem eigenen Computer an und die Rechte Spalte die Dateien die auf dem Poolraum-Account hinterlegt sind. Dateien oder Ordner können darin ausgewählt und zwischen beide Rechnern hin und her kopiert werden.</p>
                </section>
            </article>
            <article id="issues">
                <h1>Problembehandlung</h1>
                <h2>Passwort zu oft falsch eingegeben</h2>
                <p>Bei einem Verbindungsversuch besteht drei mal die Möglichkeit, das Passwort einzugeben. Wurde das Password auch beim dritten mal nicht korrekt eingegeben so bleibt diesem Rechner der Zugang zum Poolraum verwehrt. Ein erneuter Anmeldeversuch ist erst nach 24h möglich.</p>

                <h2>Nach Anmeldungen auf anderen Poolraum-Rechnern scannen</h2>
                <p>Manche Programme können nur in einer Sitzung auf einem Rechner gleichzeitig laufen. Dazu gehört z.B. der Firefox-Browser, der das Benutzerprofil auf der laufenden Sitzung sperrt wodurch in einer weiteren Sitzung dieses Programm nicht mehr verwendet werden kann. Falls eine Sitzung auf einem der Poolraum-PCs aktiv sein sollte aber vergessen wurde, auf welchem Rechner diese Sitzung läuft, kann über einen Aufruf von</p>
                <p class="codeblock"><code>$ where_am_i_logged_in.py</code></p>
                <p>aus der Kommandozeile ermittelt werden, auf welchem Poolraum-Rechner noch eine grafische Sitzung für den aktuell verwendeten Benutzer läuft (Hinweis: Hierbei handelt es sich um ein Skript, welches über die Pfad-Variable von überall aus aufgerufen werden kann). Das Programm verwendet <span class="ssh">SSH</span> um die PCs nach einer laufenden Sitzung abzufragen. Damit das Skript sich ohne Passwort-Eingabe mit den PCs verbinden kann, muss auf den Poolraum-Rechnern der Login über den SSH-Schlüssel aktiviert werden. Mehr Informationen dazu sind weiter unten im Abschnitt "Anmeldung ohne Passwort-Eingabe" zu finden bzw. kann dazu auch auf den Poolraum-Rechnern der Befehl <code>$&nbsp;enable_ssh_key_pool.sh</code> zur automatischen Einrichtung ausgeführt werden.</p>
            </article>
            <article id="print">
                <h1>Drucken via Fernzugriff</h1>
                <p>Nachdem eine Datei mittels <span class="ssh">SCP</span> zu dem Benutzerkonto im Physik-Poolraum kopiert wurde, kann diese nach dem Aufbau einer <span class="ssh">SSH</span> Verbindung über die Kommandozeile ausgedruckt werden. Der Befehl dazu lautet:</p>
                <p class="codeblock"><code>lp -d &lt;Drucker&gt; &lt;Datei&gt;</code></p>
                <p>Für den Parameter <code>Drucker</code> stehen folgende Geräte zur Auswahl:</p>
                <ul>
                    <li>lp1</li>
                    <li>lp2</li>
                    <li>lpcol</li>
                </ul>
                <p>Zur Verständnis wird hier noch einmal ein Beispiel aufgeführt bei dem aus dem Drucker <b>lp1</b> (neben der Eingangstür) eine Datei ausgedruckt wird:</p>
                <p class="codeblock"><code>lp -d lp1 /pfad/zur/Datei.pdf</code></p>
            </article>
            <article id="key-introduction">
                <h1>Was ist ein <span class="ssh">SSH</span> Schlüssel?</h1>
                <p>Eine <span class="ssh">SSH</span> Verbindung findet nur verschlüsselt statt. Wenn dies nicht der Fall wäre, könnten die Netzwerk-Packete zwischen den zwei mit <span class="ssh">SSH</span> kommunizierenden Rechnern mitgehört und der darin übertragene Inhalt ohne jegliche Schwierigkeit ausgelesen werden. Da sich darin Passwörter oder der Inhalt von Benutzer-Dateien befinden, die der Privatsphäre des Benutzers unterliegen, ist es wichtig, dass die Verbindung verschlüsselt wird.</p>
                <p><span class="ssh">SSH</span> verwendet eine <a href="https://de.wikipedia.org/wiki/Asymmetrisches_Kryptosystem">Asymmetrische Verschlüsselung</a>, bei der der Schlüssel aus einem privaten Schlüssel (private key) und einem öffentlichen Schlüssel (public key) besteht. Mit dem öffentlichen Schlüssel können Daten nur verschlüsselt werden aber nicht entschlüsselt. Erst mit dem privaten Schlüssel ist es möglich, die verschlüsselten Daten wieder zu entschlüsseln. Der öffentliche Schlüssel kann also bedenkenlos veröffentlicht werden während der private Schlüssel vom Besitzer nicht weitergegeben werden darf.</p>
                <p>Da es zum jedem öffentlichen Schlüssel genau einen einzigen zugehörigen privaten Schlüssel gibt, kann man diesen auch verwenden, um sich bei einem anderen Rechner zu authentifizieren: Anstelle der Eingabe eines Passworts kann stattdessen beim Aufbauen der Verbindung überprüft werden, ob eine mit einem vorher weitergereichten öffentlichen Schlüssel verschlüsselte Nachricht auf der anderen Seite entschlüsselt werden kann. Im Vergleich zur Eingabe eines Passworts ist dies eine einfachere und sicherere Methode um sich auf einem entfernten Rechner anzumelden.</p>
            </article>
            <article id="generate-key">
                <h1><span class="ssh">ssh</span> Schlüssel erzeugen</h1>
                <p>Für das Erzeugen eines <span class="ssh">SSH</span> Schlüssels liefert das Programm-Packet <span class="ssh">SSH</span> das Programm <code>ssh-keygen</code> mit. Über den folgenden Aufruf kann ein neues SSH-Schlüsselpaar erzeugt werden:</p>
                <p class="codeblock"><code>ssh-keygen -t rsa -b 4096 -C uxxxx@student.kit.edu</code></p>
                <p>Nach dem Aufruf wird abgefragt, wo der Schlüssel gespeichert werden soll und ob dieser Schlüssel mit einem Passwort geschützt werden soll. Wenn sattdessen nichts eingegeben wird und einfach mit der Enter-Taste bestätigt wird, werden die Default-Werte verwendet: Kein Passwort und <code>~/.ssh/id_rsa</code> als Speicherort für den privaten Schlüssel sowie <code>~/.ssh/id_rsa.pub</code> für den öffentlichen Schlüssel. Dabei ist das Tilde-Symbol <code>~</code> ein Synonym für das Home-Verzeichnis des Benutzers, unter Linux und Mac über selbiges Zeichen (z.B. <code>cd ~</code>) erreichbar und unter Windows in <code>c:\Users\...</code> . Dieses Symbol wird auf der ganzen Webseite einheitlich als Speicherort für das Home-Verzeichnis verwendet, ebenso wie der Schrägstrich als Verzeichnis-Trenner (anstelle des Backslash unter Windows).</p>
                <p>Die im Beispiel verwendeten Parameter erfüllen folgende Funktionen:</p>
                <ul>
                    <li><code>-t rsa</code>: Verwende <a href="https://en.wikipedia.org/wiki/RSA_(cryptosystem)">RSA</a> als Verschlüsselungs-Verfahren, das <code>t</code> stehe hier für <i>&bdquo;Type&ldquo;</i>. Anstelle von RSA kann auch ein ED25519 Schlüssel verwendet werden (siehe weiter unten &darr;)</li>
                    <li><code>-b 4096</code>: Gibt die Länge des Schlüssels an, in diesem Fall 4096 Bits. Der Mindestwert liegt bei 1024 Bits.</li>
                    <li><code>-C uxxxx@student.kit.edu</code>: Dies stellt einen Kommentar dar. Der Kommentar hat keinen Einfluss auf die Funktionen des Schlüssels aber dafür den Vorteil, dass man mehrere Schlüssel über den darin mitgegebenen Kommentar einfacher voneinander unterscheiden kann. In diesem Fall wurde eine E-Mail Adresse als Kommentar angegeben.</li>
                </ul>

                <section>
                    <h2>RSA oder ED25519 Schlüssel?</h2>
                    <p>RSA hat sich in der Vergangenheit als gängiges Verschlüsselungs-Verfahren durchgesetzt. Mittlerweile gibt es neuere Verschlüsselungs-Verfahren, wie z.B. <a href="https://en.wikipedia.org/wiki/EdDSA">ED25519</a>, welche mehr Performance und eine höhere Sicherheit anbieten. Mehr Informationen dazu sind <a href="https://docs.gitlab.com/ee/user/ssh.html">in der Gitlab-Dokumentation</a> zu finden.</p>
                    <p>Bei der Verwendung eines ED25519 Schlüssels wird der Schlüssel in den Dateien <code>~/.ssh/id_ed25519.pub</code> und <code>~/.ssh/id_ed25519</code> gespeichert. Dementsprechend ist darauf zu achten, dass bei der Ausführung einer der Beispiele auf dieser Webseite der Pfad zum Schlüssel auch richtig verwendet wird.</p>
                </section>
            </article>
            <article>
                <h1 id="key-login">Anmeldung ohne Passwort-Eingabe</h1>
                <p>Ein <span class="ssh">SSH</span> Schlüssel-Paar kann auch verwendet werden, um sich zu identifizieren, da der private Schlüssel nur dem Besitzer bekannt sein sollte. Dazu können auf entfernten Rechnern public-keys hinterlegt werden. Wenn  nun eine <span class="ssh">SSH</span> Verbindung von einem Benutzer aufgebaut wird, dann wird beim Verbindungsaufbau geprüft, ob dieser Benutzer den privaten Schlüssel zu einem der hinterlegten öffentlichen Schlüssel besitzt und falls dass der Fall ist, wird die Passwort-Abfrage übersprungen.</p>
                <p>Die Datei, in der die öffentlichen Schlüssel zum passwortlosen Login auf dem entfernten Rechner gespeichert werden, ist: <code>~/.ssh/authorized_keys</code>. Um den passwortlosen Login einzurichten, muss der öffentliche Schlüssel (Inhalt von <code>~/.ssh/id_rsa.pub</code> in diese Datei kopiert werden. In dieser Datei können auch mehrere public keys für diverse Schlüsselpaare hinterlegt sein, allen wird der passwortlose Zugang ermöglicht.</p>
                <p>Ein wichtiges Detail sind die Lese-Berechtigungen für diese Datei. Diese können unter Linux über einen Aufruf von <code>ls -l ~/.ssh/authorized_keys</code> ausgelesen werden und befinden sich in der ersten Spalte der Ausgabe. Wichtig ist, dass diese wie folgt aussehen: <code>-rw-r--r--</code>. Wenn die Datei nicht gelesen werden kann (das r fehlt) oder die Datei von anderen Benutzern beschrieben werden kann (mehr als ein w vorhanden), verweigert <span class="ssh">SSH</span> die Nutzung dieser Datei. Über einen Aufruf von <code>chmod 644 ~/.ssh/authorized_keys</code> können die Berechtigungen auf einen zulässigen Wert gesetzt werden.</p>
                <p>Unter den Poolraum-Rechnern untereinander kann der passwortlose Login über einen Aufruf des Befehlt <code>$&nbsp;enable_ssh_key_pool.sh</code> automatisch eingerichtet werden. Das aufgerufene Programm erstellt automatisch ein Schlüsselpaar und hinterlegt den öffentlichen Schlüssel in der <code>authorized keys</code> Datei.</p>
            </article>
            <article>
                <h1 id="config">Die <span class="ssh">SSH</span> Konfigurations-Datei</h1>
                <p>In der Datei <code>~/.ssh/config</code> können auf dem Host-Rechner ein paar Verbindungen konfiguriert werden. z.B. kann ein Eintrag für die Verbindung zu Poolraum gesetzt werden, in dem der Benutzername, die Adresse des Poolraum-Rechners und vielleicht noch ein paar weitere Optionen definiert werden. Dieser Eintrag bekommt einen Namen. Wenn nun diese Verbindung aufgebaut werden soll, kann anstelle eines Aufrufs von</p>
                <p class="codeblock"><code>ssh user@remote_pc --additional-arguments</code></p>
                <p>die bequeme Variante  verwendet werden:</p>
                <p class="codeblock"><code>ssh <i>&lt;name_der_verbindung&gt;</i></code></p>
                <p>Die folgende Datei ist eine fertige Konfiguration mit der der standard <span class="ssh">SSH</span> Zugang über den Aufruf <code>ssh physik-pool</code> erfolgt bzw. der Zugang zu einem bestimmten Rechner über den Aufruf von <code>ssh physik-pool<i>&lt;01..35&gt;</i></code> aufgebaut werden kann.</p>
                <p class="codeblock"><a href="./physpool.conf">⚙️ physpool.conf</a></p>
                <p>Um diese Konfiguration richtig zu verwenden, muss die Datei heruntergeladen und in den Ordner <code>~/.ssh/</code> abgelegt werden. Innerhalb dieser Datei muss noch der Benutzername in Zeile 2 auf das richtige U-Kürzel gesetzt werden. Zu guter Letzt fehlt noch der Eintrag in der Datei <code>~/.ssh/config</code>, der die zusätzliche Konfigurations-Datei aktiviert. Dazu muss die folgende Zeile hinzugefügt werden:</p>
                <p class="codeblock"><code>Include physpool.conf</code> </p>
            </article>

            <article>
                <h1 id="cluster">Cluster-Nutzung der Poolraum-Rechner</h1>
                <p>Die Poolraum-Rechner können, solange die Anwendung den Nutzungsregeln entspricht, als Verbund genutzt werden um aufwendige Arbeiten schneller auszuführen. Dabei wird zwischen High-Throughput und High-Performance Anwendungen unterschieden. Für beiden Anwendungsfälle existieren unterschiedliche Lösungen.</p>
                <section>
                    <h2>PISA - High Throughput</h2>
                    <p>"Pseudo Infrastructure for Scaleable Applications" (PISA) ist ein Batch-System für den Computer-Poolraum. In Fällen, für die ein Programm mehrfach aber mit veränderten Eingaben ausgeführt werden muss, werden alle Variationen der Eingaben an PISA übergeben und die einzelnen Aufgaben (Jobs) auf die Rechner verteilt. PISA parallelisiert die Ausführung der Aufgaben, was nur dann funktioniert, wenn alle Jobs unabhängig voneinander laufen können.</p>
                    <p>Weitere Informationen über die Benutzung sowie ein Beispiel-Programm sind in der <a href="https://mitchilaser.github.io/pisa/">Dokumentation von PISA</a> zu finden.</p>
                </section>
            </article>
        </main>
        <footer>
            <p><a rel="license" href="http://creativecommons.org/licenses/by/4.0/"><img alt="Creative Commons Lizenzvertrag" style="border-width:0" src="https://i.creativecommons.org/l/by/4.0/88x31.png" /></a>&nbsp;<a href="https://www.spice-space.de/navigation/ueber-michi/">Michael Hohenstein</a>, 2020</p>
            <p><a href="https://spice-space.de/inhalt/datenschutz/">Datenschutz</a> | <a href="https://spice-space.de/inhalt/impressum/">Impressum</a></p>
        </footer>
    </body>
</html>
